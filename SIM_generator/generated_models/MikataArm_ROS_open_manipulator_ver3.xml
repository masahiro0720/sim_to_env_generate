<?xml version="1.0" encoding="UTF-8"?>
<Module type="SIM">
  <moduleName>MikataArm_ROS_open_manipulator</moduleName>
  <description>既存のMikataArmパッケージで見つかったMoveIt!との統合問題を解決したROS対応OpenManipulatorであり、実機環境とシミュレーション環境の両方でシームレスな操作を可能にするオープンロボットプラットフォーム</description>
  <manufacturer>ROBOTIS</manufacturer>
  <examples>Simulation: [roslaunch open_manipulator_controller open_manipulator_controller.launch use_gazebo:=true use_moveit:=true]    Real Robot: [roslaunch open_manipulator_controller open_manipulator_controller.launch use_moveit:=true]     Sample Script: rosrun open_manipulator_moveit open_manipulator.py (performs simple Pick and Place)</examples>
  <idnType type="Com"><moduleID><mID>00000000000000000000000000000000c000000000000000a0f0f000800000</mID><iID>00</iID></moduleID>
    <informationModelVersion>1.0</informationModelVersion>
    <swAspects>
      <moduleID><mID>00000000000000000000000000000000000000000000000000000000000001</mID><iID>00</iID></moduleID>
      <moduleID><mID>00000000000000000000000000000000000000000000000000000000000002</mID><iID>00</iID></moduleID>
    </swAspects>
  </idnType>
  <properties>
    <osType type="Ubuntu" bit="BIT64" version="20.04" />
    <compiler><osName>Ubuntu</osName><verRangeOS min="16.04" max="20.04" /><compilerName>GCC</compilerName><verRangeCompiler min="9.0" max="Higher" /><bitnCPUarch>64, X86</bitnCPUarch></compiler>
    <exeType>
      <Item><opType>PERIODIC</opType><priority>10</priority><hardRT>true</hardRT><timeConstraint>10000.0</timeConstraint><instanceType>Singleton</instanceType></Item>
    </exeType>
    <Libraries>
      <Item name="actionlib" version="" />
      <Item name="moveit_core" version="" />
      <Item name="moveit_ros_planning" version="" />
      <Item name="moveit_ros_planning_interface" version="" />
      <Item name="robotis_manipulator" version="" />
      <Item name="dynamixel_workbench_toolbox" version="" />
      <Item name="cmake_modules" version="" />
      <Item name="boost" version="" />
      <Item name="eigen" version="" />
      <Item name="qtbase5-dev" version="" />
      <Item name="qt5-qmake" version="" />
      <Item name="libqt5-core" version="" />
      <Item name="libqt5-gui" version="" />
      <Item name="urdf" version="" />
      <Item name="xacro" version="" />
    </Libraries>
    <organization>
      <owner>
        <mID>00000000000000000000000000000000c000000000000000a0f0f000800000</mID>
        <iID>00</iID>
      </owner>
      <dependency>OWNER</dependency>
      <member>
        <member>
          <mID>00000000000000000000000000000000000000000000000000000000000001</mID>
          <iID>00</iID>
        </member>
        <dependency>OWNED</dependency>
      </member>
      <member>
        <member>
          <mID>00000000000000000000000000000000000000000000000000000000000002</mID>
          <iID>00</iID>
        </member>
        <dependency>OWNED</dependency>
      </member>
    </organization>
  </properties>
  <ioVariables>
    <Inputs>
    <Input name="option" type="std_msgs/String" value="設定表示コマンド" unit="" description="オプションの指示" />
    </Inputs>
    <Outputs>
    <Output name="kinematics_pose" type="open_manipulator_msgs/KinematicsPose" value="0" unit="" description="エンドエフェクタの現在の運動学的姿勢" />
    <Output name="states" type="open_manipulator_msgs/OpenManipulatorState" value="0" unit="" description="ロボット全体の状態（動作中か、アクチュエータが有効かなど）" />
    <Output name="joint_states" type="sensor_msgs/JointState" value="0" unit="" description="各関節の現在の状態（位置、速度、トルク）" />
    </Outputs>
  </ioVariables>
  <Status><executionStatus>IDLE</executionStatus><errorType>0</errorType></Status>
  <services>
    <NoOfBasicService>4</NoOfBasicService>
    <NoOfOptionalService>0</NoOfOptionalService>
    <ServiceXML>
      <ID>SetJointPosition</ID>
      <pvType>Virtual</pvType>
      <moType>MANDATORY</moType>
      <moduleID>
        <mID>00000000000000000000000000000000000000000000000000000000000001</mID>
        <iID>00</iID>
      </moduleID>
      <methodList>
        <Method>
          <methodName>goalJointSpacePath</methodName>
          <argType type="String" valueName="planning_group" inout="IN" order="1" />
          <argType type="open_manipulator_msgs/JointPosition" valueName="joint_position" inout="IN" order="2" />
          <argType type="float64" valueName="path_time" inout="IN" order="3" />
          <argType type="bool" valueName="is_planned" inout="OUT" order="4" />
          <retType>bool</retType>
          <moType>MANDATORY</moType>
          <reqProvType>PROVIDED</reqProvType>
          <additionalInfo>
            <nv>
              <Name>unit</Name>
              <Value>sec</Value>
            </nv>
          </additionalInfo>
        </Method>
      </methodList>
    </ServiceXML>
    <ServiceXML>
      <ID>SetActuatorState</ID>
      <pvType>Virtual</pvType>
      <moType>MANDATORY</moType>
      <moduleID>
        <mID>00000000000000000000000000000000000000000000000000000000000001</mID>
        <iID>00</iID>
      </moduleID>
      <methodList>
        <Method>
          <methodName>setActuatorState</methodName>
          <argType type="bool" valueName="set_actuator_state" inout="IN" order="1" />
          <argType type="bool" valueName="is_planned" inout="OUT" order="2" />
          <retType>void</retType>
          <moType>MANDATORY</moType>
          <reqProvType>PROVIDED</reqProvType>
        </Method>
      </methodList>
    </ServiceXML>
    <ServiceXML>
      <ID>SetDrawingTrajectory</ID>
      <pvType>Virtual</pvType>
      <moType>MANDATORY</moType>
      <moduleID>
        <mID>00000000000000000000000000000000000000000000000000000000000001</mID>
        <iID>00</iID>
      </moduleID>
      <methodList>
        <Method>
          <methodName>goalDrawingTrajectory</methodName>
          <argType type="String" valueName="end_effector_name" inout="IN" order="1" />
          <argType type="String" valueName="drawing_trajectory_name" inout="IN" order="2" />
          <argType type="float64[]" valueName="param" inout="IN" order="3" />
          <retType>bool</retType>
          <moType>MANDATORY</moType>
          <reqProvType>PROVIDED</reqProvType>
        </Method>
        <Method>
          <methodName>GetKinematicsPose</methodName>
          <argType type="String" valueName="planning_group" inout="IN" order="1" />
          <argType type="String" valueName="end_effector_name" inout="IN" order="2" />
          <argType type="String" valueName="header" inout="OUT" order="3" />
          <argType type="open_manipulator_msgs/KinematicsPose" valueName="kinematics_pose" inout="OUT" order="4" />
          <retType>bool</retType>
          <moType>MANDATORY</moType>
          <reqProvType>PROVIDED</reqProvType>
        </Method>
      </methodList>
    </ServiceXML>
    <ServiceXML>
      <ID>GetJointPosition</ID>
      <pvType>Virtual</pvType>
      <moType>MANDATORY</moType>
      <moduleID>
        <mID>00000000000000000000000000000000000000000000000000000000000001</mID>
        <iID>00</iID>
      </moduleID>
      <methodList>
        <Method>
          <methodName>GetJointPosition</methodName>
          <argType type="String" valueName="planning_group" inout="IN" order="1" />
          <argType type="open_manipulator_msgs/JointPosition" valueName="joint_position" inout="OUT" order="2" />
          <retType>bool</retType>
          <moType>MANDATORY</moType>
          <reqProvType>PROVIDED</reqProvType>
        </Method>
      </methodList>
    </ServiceXML>
  </services>
  <infra>
    <Middleware>
      <InfraType>
        <Name>ROS</Name>
        <Version min="1-kinetic" max="1-noetic" />
      </InfraType>
    </Middleware>
    <comms>
      <Communication>
        <mostTopProtocol>
          <InfraType>
            <Name>Private Protocol</Name>
            <Version min="1.0" max="1.0" />
          </InfraType>
        </mostTopProtocol>
        <underlyingProtocol>
          <Databus>
            <ConnectorType>USB-A</ConnectorType>
            <TypePhyMac>USB</TypePhyMac>
            <TypeNetTrans>
              <Item>TCP/IP</Item>
            </TypeNetTrans>
            <Speed value="100000.0" unit="kbps" />
          </Databus>
        </underlyingProtocol>
      </Communication>
    </comms>
  </infra>
  <safeSecure>
    <Safety>
      <overall mode="PL">d</overall>
      <inSafetyLevel safetyFunctionType="SRSC" validSafetyLevelType="PL" eachSafetyLevelPL="d"  />
      <inSafetyLevel safetyFunctionType="LIMWS" validSafetyLevelType="PL" eachSafetyLevelPL="d"  />
    </Safety>
    <Security>
      <CyberSecurity>
        <OverallCybSecurityLevel>1</OverallCybSecurityLevel>
        <inCybSecurityLevel type="INPUT_VALD" value="3" />
        <inCybSecurityLevel type="ACNT_MGT" value="2" />
      </CyberSecurity>
    </Security>
    <additionalInfo>
      <nv>
        <Name>required_udev_rule</Name>
        <Value>KERNEL=="ttyUSB*", DRIVERS=="ftdi_sio", MODE="0666", ATTR{device/latency_timer}="1"</Value>
      </nv>
    </additionalInfo>
  </safeSecure>
  <modelling>
    <simulationModel><simulator>Gazebo</simulator>
      <mdf type="URDF">
        <Item>open_manipulator_description/urdf/open_manipulator.urdf.xacro</Item>
        <Item>open_manipulator_description/urdf/open_manipulator.gazebo.xacro</Item>
        <Item>open_manipulator_description/urdf/materials.xacro</Item>
      </mdf>
      <mdf type="STL">
        <Item>open_manipulator_description/meshes/chain_link1.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link2.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link3.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link4.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link5.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link6.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link7.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link_grip_l.stl</Item>
        <Item>open_manipulator_description/meshes/chain_link_grip_r.stl</Item>
      </mdf>
      <dynamicSW>
        <exeFileURL>devel/lib/open_manipulator_controller/open_manipulator_controller</exeFileURL>
        <ShellCmd>roslaunch open_manipulator_controller open_manipulator_controller.launch use_gazebo:=true use_moveit:=true</ShellCmd>
        <Properties>
          <Property name="controlPeriod" type="float64" unit="" description="" value="0.001" immutable="false" />
        </Properties>
      </dynamicSW>
    </simulationModel>
  </modelling>
  <execForm>
    <exeForm>
      <exeFileURL>devel/lib/open_manipulator_controller/open_manipulator_controller</exeFileURL>
      <ShellCmd>roslaunch open_manipulator_controller open_manipulator_controller.launch use_gazebo:=true use_moveit:=true</ShellCmd>
    </exeForm>
    <exeForm>
      <exeFileURL>devel/lib/open_manipulator_controller/open_manipulator_controller</exeFileURL>
      <ShellCmd>roslaunch open_manipulator_controller open_manipulator_controller.launch use_moveit:=true</ShellCmd>
      <additionalInfo>
        <nv>
          <Name>pre_execution_command</Name>
          <Value>sudo chmod 666 /dev/ttyUSB0</Value>
        </nv>
      </additionalInfo>
    </exeForm>
    <exeForm>
      <exeFileURL>Dockerfile_Data</exeFileURL>
      <additionalInfo>
        <nv>
          <Name>middleware</Name>
          <Value>ROS</Value>
        </nv>
        <nv>
          <Name>version-min</Name>
          <Value>1-kinetic</Value>
        </nv>
        <nv>
          <Name>version-max</Name>
          <Value>1-noetic</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>git</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>python3-catkin-tools</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>python3-rosdep</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>python3-rosinstall</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>python3-rosinstall-generator</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>python3-wstool</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>build-essential</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>cmake</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-catkin</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-moveit</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-joint-state-publisher-gui</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-rviz</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-robot-state-publisher</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-xacro</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-gazebo-ros-pkgs</Value>
        </nv>
        <nv>
          <Name>Libraries</Name>
          <Value>ros-${ROS_DISTRO}-gazebo-ros-control</Value>
        </nv>
        <nv>
          <Name>gitURL-name.1</Name>
          <Value>https://github.com/ROBOTIS-GIT/dynamixel-workbench.git</Value>
        </nv>
        <nv>
          <Name>gitURL-branch.1</Name>
          <Value>required</Value>
        </nv>
        <nv>
          <Name>gitURL-name.2</Name>
          <Value>https://github.com/ROBOTIS-GIT/DynamixelSDK.git</Value>
        </nv>
        <nv>
          <Name>gitURL-branch.2</Name>
          <Value>required</Value>
        </nv>
        <nv>
          <Name>gitURL-name.3</Name>
          <Value>https://github.com/rsdlab/MikataArm.git</Value>
        </nv>
        <nv>
          <Name>gitURL-branch.3</Name>
          <Value>main</Value>
        </nv>
        <nv>
          <Name>gitURL-name.4</Name>
          <Value>https://github.com/ROBOTIS-GIT/robotis_manipulator.git</Value>
        </nv>
        <nv>
          <Name>gitURL-branch.4</Name>
          <Value>main</Value>
        </nv>
      </additionalInfo>
    </exeForm>
  </execForm>
</Module>